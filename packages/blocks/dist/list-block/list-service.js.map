{"version":3,"file":"list-service.js","sourceRoot":"","sources":["../../src/list-block/list-service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AAErD,OAAO,EAAE,aAAa,EAAE,MAAM,qCAAqC,CAAC;AACpE,OAAO,EAEL,iCAAiC,GAClC,MAAM,kDAAkD,CAAC;AAC1D,OAAO,EAAE,2BAA2B,EAAE,MAAM,uCAAuC,CAAC;AACpF,OAAO,EAAE,mBAAmB,EAAE,MAAM,oEAAoE,CAAC;AAEzG,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;AACvD,OAAO,EAAE,QAAQ,EAAE,MAAM,0BAA0B,CAAC;AAEpD,MAAM,OAAO,gBAEX,SAAQ,YAA4B;IAFtC;;QAGW,kBAAa,GAAG,IAAI,aAAa,EAAkB,CAAC;QAEpD,wBAAmB,GAAG,IAAI,mBAAmB,EAAE,CAAC;QAEhD,WAAM,GAAG;YAChB,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE,UAAU;YAClB,MAAM,EAAE,YAAY;SACrB,CAAC;IAaJ,CAAC;IAXU,OAAO;QACd,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE1C,MAAM,WAAW,GAAG,iCAAiC,CACnD,IAAI,CAAC,mBAAmB,CACzB,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,CAAC;IAC1E,CAAC;CACF","sourcesContent":["import { BlockService } from '@blocksuite/block-std';\n\nimport { InlineManager } from '../_common/inline/inline-manager.js';\nimport {\n  type AffineTextAttributes,\n  getAffineInlineSpecsWithReference,\n} from '../_common/inline/presets/affine-inline-specs.js';\nimport { affineInlineMarkdownMatches } from '../_common/inline/presets/markdown.js';\nimport { ReferenceNodeConfig } from '../_common/inline/presets/nodes/reference-node/reference-config.js';\nimport type { ListBlockModel } from './list-model.js';\nimport { listPrefix, toggleStyles } from './styles.js';\nimport { ListIcon } from './utils/get-list-icon.js';\n\nexport class ListBlockService<\n  TextAttributes extends AffineTextAttributes = AffineTextAttributes,\n> extends BlockService<ListBlockModel> {\n  readonly inlineManager = new InlineManager<TextAttributes>();\n\n  readonly referenceNodeConfig = new ReferenceNodeConfig();\n\n  readonly styles = {\n    icon: ListIcon,\n    prefix: listPrefix,\n    toggle: toggleStyles,\n  };\n\n  override mounted(): void {\n    super.mounted();\n\n    this.referenceNodeConfig.setDoc(this.doc);\n\n    const inlineSpecs = getAffineInlineSpecsWithReference(\n      this.referenceNodeConfig\n    );\n    this.inlineManager.registerSpecs(inlineSpecs);\n    this.inlineManager.registerMarkdownMatches(affineInlineMarkdownMatches);\n  }\n}\n"]}