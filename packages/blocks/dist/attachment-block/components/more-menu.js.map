{"version":3,"file":"more-menu.js","sourceRoot":"","sources":["../../../src/attachment-block/components/more-menu.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC3B,OAAO,EAAY,GAAG,EAAE,MAAM,uBAAuB,CAAC;AAEtD,OAAO,EACL,UAAU,EACV,YAAY,EACZ,aAAa,GACd,MAAM,8BAA8B,CAAC;AAEtC,OAAO,EAAE,yBAAyB,EAAE,MAAM,aAAa,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AAE7C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,EACvB,GAAG,EAAE,WAAW,EAChB,KAAK,EACL,kBAAkB,EAClB,eAAe,GAMhB,EAAE,EAAE;IACH,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;IACpC,OAAO,IAAI,CAAA;;QAEL,cAAc;;;WAGX,GAAG,CAAC,WAAW,CAAC;;;;;;oBAMP,GAAG,EAAE,CAAC,kBAAkB,CAAC,KAAK,CAAC;;YAEvC,YAAY;;;;;;;oBAOJ,QAAQ;oBACR,GAAG,EAAE;QACb,MAAM,IAAI,GAAqC;YAC7C,OAAO,EAAE,mBAAmB;YAC5B,GAAG,yBAAyB,CAAC,KAAK,CAAC;SACpC,CAAC;QACF,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5C,CAAC;;YAEC,aAAa;;;;;;;;oBAQL,QAAQ;oBACR,GAAG,EAAE;QACb,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC7B,eAAe,CAAC,KAAK,EAAE,CAAC;IAC1B,CAAC;;YAEC,UAAU;;;;GAInB,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { html } from 'lit';\nimport { type Ref, ref } from 'lit/directives/ref.js';\n\nimport {\n  DeleteIcon,\n  DownloadIcon,\n  DuplicateIcon,\n} from '../../_common/icons/index.js';\nimport type { AttachmentBlockModel } from '../attachment-model.js';\nimport { cloneAttachmentProperties } from '../utils.js';\nimport { moreMenuStyles } from './styles.js';\n\nexport const MoreMenu = ({\n  ref: moreMenuRef,\n  model,\n  downloadAttachment,\n  abortController,\n}: {\n  ref?: Ref<HTMLDivElement>;\n  model: AttachmentBlockModel;\n  downloadAttachment: (model: AttachmentBlockModel) => Promise<void> | void;\n  abortController: AbortController;\n}) => {\n  const readonly = model.doc.readonly;\n  return html`\n    <style>\n      ${moreMenuStyles}\n    </style>\n\n    <div ${ref(moreMenuRef)} class=\"affine-attachment-options-more\">\n      <div class=\"affine-attachment-options-more-container\">\n        <icon-button\n          width=\"126px\"\n          height=\"32px\"\n          text=\"Download\"\n          @click=\"${() => downloadAttachment(model)}\"\n        >\n          ${DownloadIcon}\n        </icon-button>\n\n        <icon-button\n          width=\"126px\"\n          height=\"32px\"\n          text=\"Duplicate\"\n          ?hidden=${readonly}\n          @click=\"${() => {\n            const prop: { flavour: 'affine:attachment' } = {\n              flavour: 'affine:attachment',\n              ...cloneAttachmentProperties(model),\n            };\n            model.doc.addSiblingBlocks(model, [prop]);\n          }}\"\n        >\n          ${DuplicateIcon}\n        </icon-button>\n\n        <icon-button\n          width=\"126px\"\n          height=\"32px\"\n          text=\"Delete\"\n          class=\"danger\"\n          ?hidden=${readonly}\n          @click=\"${() => {\n            model.doc.deleteBlock(model);\n            abortController.abort();\n          }}\"\n        >\n          ${DeleteIcon}\n        </icon-button>\n      </div>\n    </div>\n  `;\n};\n"]}