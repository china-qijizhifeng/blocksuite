{"version":3,"file":"spec-provider.js","sourceRoot":"","sources":["../../../src/specs/utils/spec-provider.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AAExD,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAEhD,MAAM,OAAO,YAAY;IAKvB;QAFQ,YAAO,GAAG,IAAI,GAAG,EAAuB,CAAC;IAE1B,CAAC;IAExB,OAAO,CAAC,EAAU,EAAE,IAAiB;QACnC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAClC,YAAY,CAAC,IAAI,EAAE,sBAAsB,EAAE,EAAE,CAAC,CAAC;QAC/C,OAAO,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,SAAS,CAAC,EAAU;QAClB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,WAAW;QAChB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC3B,YAAY,CAAC,QAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;QAC7C,CAAC;QACD,OAAO,YAAY,CAAC,QAAQ,CAAC;IAC/B,CAAC;CACF","sourcesContent":["import type { BlockSpec } from '@blocksuite/block-std';\nimport { assertExists } from '@blocksuite/global/utils';\n\nimport { SpecBuilder } from './spec-builder.js';\n\nexport class SpecProvider {\n  static instance: SpecProvider;\n\n  private specMap = new Map<string, BlockSpec[]>();\n\n  private constructor() {}\n\n  addSpec(id: string, spec: BlockSpec[]) {\n    if (!this.specMap.has(id)) {\n      this.specMap.set(id, spec);\n    }\n  }\n\n  hasSpec(id: string) {\n    return this.specMap.has(id);\n  }\n\n  getSpec(id: string) {\n    const spec = this.specMap.get(id);\n    assertExists(spec, `Spec not found for ${id}`);\n    return new SpecBuilder(spec);\n  }\n\n  clearSpec(id: string) {\n    this.specMap.delete(id);\n  }\n\n  static getInstance() {\n    if (!SpecProvider.instance) {\n      SpecProvider.instance = new SpecProvider();\n    }\n    return SpecProvider.instance;\n  }\n}\n"]}