{"version":3,"file":"code-model.js","sourceRoot":"","sources":["../../src/code-block/code-model.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAsB,MAAM,mBAAmB,CAAC;AAG1E,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAElD,MAAM,CAAC,MAAM,eAAe,GAAG,iBAAiB,CAAC;IAC/C,OAAO,EAAE,aAAa;IACtB,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;QAClB,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE;QACrB,QAAQ,EAAE,aAAa;QACvB,IAAI,EAAE,KAAK;QACX,OAAO,EAAE,EAAE;KACZ,CAAC;IACF,QAAQ,EAAE;QACR,OAAO,EAAE,CAAC;QACV,IAAI,EAAE,SAAS;QACf,MAAM,EAAE;YACN,aAAa;YACb,kBAAkB;YAClB,aAAa;YACb,sBAAsB;SACvB;QACD,QAAQ,EAAE,EAAE;KACb;CACF,CAAC,CAAC","sourcesContent":["import { defineBlockSchema, type SchemaToModel } from '@blocksuite/store';\nimport type { BundledLanguage, Highlighter, PlainTextLanguage } from 'shiki';\n\nimport { FALLBACK_LANG } from './utils/consts.js';\n\nexport const CodeBlockSchema = defineBlockSchema({\n  flavour: 'affine:code',\n  props: internal => ({\n    text: internal.Text(),\n    language: FALLBACK_LANG,\n    wrap: false,\n    caption: '',\n  }),\n  metadata: {\n    version: 1,\n    role: 'content',\n    parent: [\n      'affine:note',\n      'affine:paragraph',\n      'affine:list',\n      'affine:edgeless-text',\n    ],\n    children: [],\n  },\n});\n\nexport type CodeBlockModel = SchemaToModel<typeof CodeBlockSchema>;\nexport type HighlightOptionsGetter = () => {\n  lang: BundledLanguage | PlainTextLanguage;\n  highlighter: Highlighter | null;\n};\n"]}