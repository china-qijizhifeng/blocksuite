{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference types=\"@blocksuite/global\" />\n// manual import to avoid being tree-shaken\nimport './root-block/index.js';\nimport './paragraph-block/index.js';\nimport './list-block/index.js';\nimport './note-block/index.js';\nimport './frame-block/index.js';\nimport './divider-block/index.js';\nimport './code-block/affine-code-line.js';\nimport './image-block/index.js';\nimport './database-block/index.js';\nimport './surface-ref-block/index.js';\n\nimport { mindMap } from './_common/mind-map/index.js';\nimport { matchFlavours, Point } from './_common/utils/index.js';\nimport { splitElements } from './root-block/edgeless/utils/clipboard-utils.js';\nimport { isCanvasElement } from './root-block/edgeless/utils/query.js';\nimport { deserializeXYWH } from './surface-block/index.js';\n\nexport * from './_common/adapters/index.js';\nexport * from './_common/components/ai-item/index.js';\nexport * from './_common/components/doc-mode-service.js';\nexport type {\n  DocModeService,\n  NotificationService,\n  PeekViewService,\n} from './_common/components/index.js';\nexport {\n  createLitPortal,\n  HoverController,\n  PeekableController,\n  RichText,\n  scrollbarStyle,\n  toast,\n  Tooltip,\n} from './_common/components/index.js';\nexport { type NavigatorMode } from './_common/edgeless/frame/consts.js';\nexport {\n  createEmbedBlockSchema,\n  defineEmbedModel,\n  EmbedBlockElement,\n} from './_common/embed-block-helper/index.js';\nexport {\n  ArrowDownSmallIcon,\n  CloseIcon,\n  DocIcon,\n  DualLinkIcon16,\n  LinkedDocIcon,\n  PlusIcon,\n  TagsIcon,\n} from './_common/icons/index.js';\nexport * from './_common/icons/index.js';\nexport * from './_common/inline/inline-manager.js';\nexport {\n  type AffineInlineEditor,\n  type AffineTextAttributes,\n  getAffineInlineSpecsWithReference,\n} from './_common/inline/presets/affine-inline-specs.js';\nexport { ReferenceNodeConfig } from './_common/inline/presets/nodes/reference-node/reference-config.js';\nexport { AffineReference } from './_common/inline/presets/nodes/reference-node/reference-node.js';\nexport { type TreeNode, type TreeNodeWithId } from './_common/mind-map/draw.js';\nexport * from './_common/test-utils/test-utils.js';\nexport {\n  ColorVariables,\n  FontFamilyVariables,\n  SizeVariables,\n  StyleVariables,\n} from './_common/theme/css-variables.js';\nexport {\n  extractCssVariables,\n  ThemeObserver,\n} from './_common/theme/theme-observer.js';\nexport * from './_common/transformers/index.js';\nexport {\n  type AbstractEditor,\n  type DocMode,\n  NoteDisplayMode,\n} from './_common/types.js';\nexport {\n  createButtonPopper,\n  matchFlavours,\n  on,\n  once,\n  openFileOrFiles,\n} from './_common/utils/index.js';\nexport { createDefaultDoc } from './_common/utils/init.js';\nexport {\n  getThemeMode,\n  isInsideEdgelessEditor,\n  isInsidePageEditor,\n} from './_common/utils/query.js';\nexport * from './attachment-block/index.js';\nexport * from './bookmark-block/index.js';\nexport * from './code-block/index.js';\nexport * from './data-view-block/index.js';\nexport {\n  popTagSelect,\n  type SelectTag,\n} from './database-block/data-view/utils/tags/multi-tag-select.js';\nexport * from './database-block/index.js';\nexport * from './divider-block/index.js';\nexport * from './edgeless-text/index.js';\nexport * from './embed-figma-block/index.js';\nexport * from './embed-github-block/index.js';\nexport * from './embed-html-block/index.js';\nexport * from './embed-linked-doc-block/index.js';\nexport * from './embed-loom-block/index.js';\nexport * from './embed-synced-doc-block/index.js';\nexport * from './embed-youtube-block/index.js';\nexport * from './frame-block/index.js';\nexport * from './image-block/index.js';\nexport * from './list-block/index.js';\nexport * from './note-block/index.js';\nexport * from './paragraph-block/index.js';\nexport { EdgelessTemplatePanel } from './root-block/edgeless/components/toolbar/template/template-panel.js';\nexport type {\n  Template,\n  TemplateCategory,\n  TemplateManager,\n} from './root-block/edgeless/components/toolbar/template/template-type.js';\nexport { CopilotSelectionController } from './root-block/edgeless/controllers/tools/copilot-tool.js';\nexport * from './root-block/index.js';\nexport * from './schemas.js';\nexport * from './specs/index.js';\nexport {\n  AffineCanvasTextFonts,\n  Bound,\n  BrushElementModel,\n  CanvasElementType,\n  CommunityCanvasTextFonts,\n  ConnectorElementModel,\n  ConnectorMode,\n  fitContent,\n  generateKeyBetween,\n  getElementsBound,\n  GroupElementModel,\n  markdownToMindmap,\n  MindmapElementModel,\n  MindmapRootBlock,\n  MindmapService,\n  MindmapStyle,\n  MindmapSurfaceBlock,\n  type PointStyle,\n  type SerializedXYWH,\n  ShapeElementModel,\n  ShapeStyle,\n  StrokeStyle,\n  SurfaceBlockModel,\n  TextElementModel,\n} from './surface-block/index.js';\nexport { MiniMindmapPreview } from './surface-block/mini-mindmap/mindmap-preview.js';\nexport { SurfaceBlockComponent } from './surface-block/surface-block.js';\nexport { SurfaceBlockSchema } from './surface-block/surface-model.js';\nexport * from './surface-block/surface-service.js';\nexport * from './surface-ref-block/index.js';\nexport const BlocksUtils = {\n  splitElements,\n  matchFlavours,\n  mindMap,\n  deserializeXYWH,\n  isCanvasElement,\n  Point,\n};\n\nconst env: Record<string, unknown> =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined'\n      ? window\n      : // @ts-ignore\n        typeof global !== 'undefined'\n        ? // @ts-ignore\n          global\n        : {};\nconst importIdentifier = '__ $BLOCKSUITE_BLOCKS$ __';\n\nif (env[importIdentifier] === true) {\n  // https://github.com/yjs/yjs/issues/438\n  console.error(\n    '@blocksuite/blocks was already imported. This breaks constructor checks and will lead to issues!'\n  );\n}\n\nif (typeof window === 'undefined') {\n  throw new Error(\n    'Seems like you are importing @blocksuite/blocks in SSR mode. Which is not supported for now.'\n  );\n}\n\nenv[importIdentifier] = true;\n"]}