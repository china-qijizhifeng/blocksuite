{"version":3,"file":"cell-renderer.js","sourceRoot":"","sources":["../../../../../../src/database-block/data-view/column/presets/checkbox/cell-renderer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAEzD,OAAO,EACL,eAAe,EACf,iBAAiB,EACjB,kBAAkB,GACnB,MAAM,0CAA0C,CAAC;AAClD,OAAO,EAAE,UAAU,EAAE,MAAM,4BAA4B,CAAC;AACxD,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,0BAA0B,EAAE,MAAM,mBAAmB,CAAC;AAC/D,OAAO,EAAE,yBAAyB,EAAE,MAAM,aAAa,CAAC;IAG3C,YAAY;4BADxB,aAAa,CAAC,+BAA+B,CAAC;;;;sBACb,gBAAgB;;;;4BAAxB,SAAQ,WAAyB;;;;qCAyBxD,KAAK,CAAC,2BAA2B,CAAC;YACnC,gLAAiB,SAAS,6BAAT,SAAS,6FAAkB;YA1B9C,6KA6DC;;;;iBA5DiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;GAsB3B,AAtBqB,CAsBpB;QAGF,uFAA4C;QAA5C,IAAiB,SAAS,+CAAkB;QAA5C,IAAiB,SAAS,qDAAkB;QAEnC,mBAAmB;YAC1B,MAAM,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;YAE5B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACvB,IAAI,OAAO,EAAE,CAAC;gBACZ,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACxE,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAEQ,MAAM,CAAC,EAAkB;YAChC,EAAE,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC;QAEQ,OAAO,CAAC,EAAkB;YACjC,EAAE,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC;QAEQ,KAAK,CAAC,EAAkB;YAC/B,EAAE,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC;QAEQ,MAAM;YACb,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC;YACpC,MAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC/D,OAAO,IAAI,CAAA;;mDAEoC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;;UAEjE,IAAI;;WAEH,CAAC;QACV,CAAC;;;;;;YA5DU,uDAAY;;;;;SAAZ,YAAY;AA+DzB,MAAM,CAAC,MAAM,oBAAoB,GAAG,yBAAyB,CAAC,YAAY,CAAC;IACzE,IAAI,EAAE,UAAU,CAAC,cAAc,CAAC;IAChC,YAAY,EAAE;QACZ,IAAI,EAAE,0BAA0B,CAAC,YAAY,CAAC;KAC/C;CACF,CAAC,CAAC","sourcesContent":["import { css, html } from 'lit';\nimport { customElement, query } from 'lit/decorators.js';\n\nimport {\n  checkboxChecked,\n  checkboxUnchecked,\n  playCheckAnimation,\n} from '../../../../../list-block/utils/icons.js';\nimport { createIcon } from '../../../utils/uni-icon.js';\nimport { BaseCellRenderer } from '../../base-cell.js';\nimport { createFromBaseCellRenderer } from '../../renderer.js';\nimport { checkboxColumnModelConfig } from './define.js';\n\n@customElement('affine-database-checkbox-cell')\nexport class CheckboxCell extends BaseCellRenderer<boolean> {\n  static override styles = css`\n    affine-database-checkbox-cell {\n      display: block;\n      width: 100%;\n      cursor: pointer;\n    }\n\n    .affine-database-checkbox-container {\n      height: 100%;\n    }\n\n    .affine-database-checkbox {\n      display: flex;\n      align-items: center;\n      height: var(--data-view-cell-text-line-height);\n      width: 100%;\n      position: relative;\n    }\n    .affine-database-checkbox svg {\n      width: 16px;\n      height: 16px;\n    }\n  `;\n\n  @query('.affine-database-checkbox')\n  private accessor _checkbox!: HTMLDivElement;\n\n  override beforeEnterEditMode() {\n    const checked = !this.value;\n\n    this.onChange(checked);\n    if (checked) {\n      playCheckAnimation(this._checkbox, { left: -2 }).catch(console.error);\n    }\n    return false;\n  }\n\n  override onCopy(_e: ClipboardEvent) {\n    _e.preventDefault();\n  }\n\n  override onPaste(_e: ClipboardEvent) {\n    _e.preventDefault();\n  }\n\n  override onCut(_e: ClipboardEvent) {\n    _e.preventDefault();\n  }\n\n  override render() {\n    const checked = this.value ?? false;\n    const icon = checked ? checkboxChecked() : checkboxUnchecked();\n    return html` <div class=\"affine-database-checkbox-container\">\n      <div\n        class=\"affine-database-checkbox checkbox ${checked ? 'checked' : ''}\"\n      >\n        ${icon}\n      </div>\n    </div>`;\n  }\n}\n\nexport const checkboxColumnConfig = checkboxColumnModelConfig.renderConfig({\n  icon: createIcon('CheckBoxIcon'),\n  cellRenderer: {\n    view: createFromBaseCellRenderer(CheckboxCell),\n  },\n});\n"]}