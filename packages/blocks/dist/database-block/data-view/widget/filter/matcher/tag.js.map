{"version":3,"file":"tag.js","sourceRoot":"","sources":["../../../../../../src/database-block/data-view/widget/filter/matcher/tag.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,+BAA+B,CAAC;AAC/D,OAAO,EACL,MAAM,EACN,SAAS,EACT,QAAQ,EACR,QAAQ,GACT,MAAM,gCAAgC,CAAC;AAGxC,MAAM,CAAC,MAAM,SAAS,GAAG;IACvB,OAAO,EAAE;QACP,IAAI,EAAE,SAAS,CAAC;YACd,QAAQ,EAAE,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YAC9C,IAAI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;YACxD,EAAE,EAAE,QAAQ,CAAC,MAAM,EAAE;SACtB,CAAC;QACF,KAAK,EAAE,WAAW;QAClB,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBAC7C,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;KACF;IACD,UAAU,EAAE;QACV,IAAI,EAAE,SAAS,CAAC;YACd,QAAQ,EAAE,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YAC9C,IAAI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;YACxD,EAAE,EAAE,QAAQ,CAAC,MAAM,EAAE;SACtB,CAAC;QACF,KAAK,EAAE,eAAe;QACtB,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBAC7C,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC;KACF;CACkC,CAAC","sourcesContent":["import { tBoolean, tTag } from '../../../logical/data-type.js';\nimport {\n  tArray,\n  tFunction,\n  tTypeRef,\n  tTypeVar,\n} from '../../../logical/typesystem.js';\nimport type { FilterDefineType } from './matcher.js';\n\nexport const tagFilter = {\n  isOneOf: {\n    type: tFunction({\n      typeVars: [tTypeVar('options', tTag.create())],\n      args: [tTypeRef('options'), tArray(tTypeRef('options'))],\n      rt: tBoolean.create(),\n    }),\n    label: 'Is one of',\n    impl: (value, target) => {\n      if (!Array.isArray(target) || !target.length) {\n        return true;\n      }\n      return target.includes(value);\n    },\n  },\n  isNotOneOf: {\n    type: tFunction({\n      typeVars: [tTypeVar('options', tTag.create())],\n      args: [tTypeRef('options'), tArray(tTypeRef('options'))],\n      rt: tBoolean.create(),\n    }),\n    label: 'Is not one of',\n    impl: (value, target) => {\n      if (!Array.isArray(target) || !target.length) {\n        return true;\n      }\n      return !target.includes(value);\n    },\n  },\n} as Record<string, FilterDefineType>;\n"]}