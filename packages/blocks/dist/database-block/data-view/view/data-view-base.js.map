{"version":3,"file":"data-view-base.js","sourceRoot":"","sources":["../../../../src/database-block/data-view/view/data-view-base.ts"],"names":[],"mappings":"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","sourcesContent":["import type {\n  BlockStdScope,\n  EventName,\n  UIEventHandler,\n} from '@blocksuite/block-std';\nimport { ShadowlessElement, WithDisposable } from '@blocksuite/block-std';\nimport type { Disposable, Slot } from '@blocksuite/global/utils';\nimport type { Doc } from '@blocksuite/store';\nimport { property } from 'lit/decorators.js';\n\nimport type { DataSource } from '../common/data-source/base.js';\nimport type { ViewSource } from '../common/index.js';\nimport type { DataViewRenderer } from '../data-view.js';\nimport type { DataViewSelection, InsertToPosition } from '../types.js';\nimport type { DataViewWidget } from '../widget/types.js';\nimport type { DataViewExpose, DataViewProps } from './data-view.js';\nimport type { DataViewManager } from './data-view-manager.js';\n\nexport abstract class DataViewBase<\n    T extends DataViewManager = DataViewManager,\n    Selection extends DataViewSelection = DataViewSelection,\n  >\n  extends WithDisposable(ShadowlessElement)\n  implements DataViewProps<T, Selection>, DataViewExpose\n{\n  @property({ attribute: false })\n  accessor std!: BlockStdScope;\n\n  @property({ attribute: false })\n  accessor headerWidget!: DataViewWidget;\n\n  @property({ attribute: false })\n  accessor dataViewEle!: DataViewRenderer;\n\n  @property({ attribute: false })\n  accessor view!: T;\n\n  @property({ attribute: false })\n  accessor viewSource!: ViewSource;\n\n  @property({ attribute: false })\n  accessor dataSource!: DataSource;\n\n  @property({ attribute: false })\n  accessor bindHotkey!: (hotkeys: Record<string, UIEventHandler>) => Disposable;\n\n  @property({ attribute: false })\n  accessor handleEvent!: (\n    name: EventName,\n    handler: UIEventHandler\n  ) => Disposable;\n\n  @property({ attribute: false })\n  accessor modalMode: boolean | undefined = undefined;\n\n  @property({ attribute: false })\n  accessor setSelection!: (selection?: Selection) => void;\n\n  @property({ attribute: false })\n  accessor selectionUpdated!: Slot<Selection | undefined>;\n\n  @property({ attribute: false })\n  accessor onDrag: ((evt: MouseEvent, id: string) => () => void) | undefined =\n    undefined;\n\n  @property({ attribute: false })\n  accessor getFlag!: Doc['awarenessStore']['getFlag'];\n\n  addRow?(position: InsertToPosition): void;\n\n  abstract focusFirstCell(): void;\n  abstract getSelection(): Selection | undefined;\n}\n"]}