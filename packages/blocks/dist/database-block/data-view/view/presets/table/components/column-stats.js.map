{"version":3,"file":"column-stats.js","sourceRoot":"","sources":["../../../../../../../src/database-block/data-view/view/presets/table/components/column-stats.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AAKlD,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;CAMjB,CAAC;IAGW,mBAAmB;4BAD/B,aAAa,CAAC,8BAA8B,CAAC;;;;sBACL,cAAc,CAAC,UAAU,CAAC;;;;;;;mCAAlC,SAAQ,WAA0B;;;;gCAGhE,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;iCAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAF/B,iKAAS,IAAI,6BAAJ,IAAI,mFAAwB;YAGrC,oKAAS,KAAK,6BAAL,KAAK,qFAAoC;YAPpD,6KAqCC;;;;iBApCiB,WAAM,GAAG,MAAM,AAAT,CAAU;QAGhC,6EAAqC;QAArC,IAAS,IAAI,0CAAwB;QAArC,IAAS,IAAI,gDAAwB;QAGrC,0HAAwC,SAAS,GAAC;QAAlD,IAAS,KAAK,2CAAoC;QAAlD,IAAS,KAAK,iDAAoC;QAE/B,MAAM;YACvB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAEzC,OAAO,IAAI,CAAA;;UAEL,MAAM,CACN,IAAI,EACJ,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EACb,GAAG,CAAC,EAAE;gBACJ,OAAO,IAAI,CAAA;wBACC,GAAG;uBACJ,IAAI,CAAC,KAAK;kDACiB,CAAC;YACzC,CAAC,CACF;;KAEJ,CAAC;QACJ,CAAC;QAEQ,iBAAiB;YACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;YAE1B,IAAI,CAAC,WAAW,CAAC,GAAG,CAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE;gBAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CACH,CAAC;QACJ,CAAC;;;;;;YApCU,uDAAmB;;;;;SAAnB,mBAAmB","sourcesContent":["import { WithDisposable } from '@blocksuite/block-std';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\n\nimport type { GroupData } from '../../../../common/group-by/helper.js';\nimport type { DataViewTableManager } from '../table-view-manager.js';\n\nconst styles = css`\n  .affine-database-column-stats {\n    width: 100%;\n    margin-left: 8px;\n    display: flex;\n  }\n`;\n\n@customElement('affine-database-column-stats')\nexport class DataBaseColumnStats extends WithDisposable(LitElement) {\n  static override styles = styles;\n\n  @property({ attribute: false })\n  accessor view!: DataViewTableManager;\n\n  @property({ attribute: false })\n  accessor group: GroupData | undefined = undefined;\n\n  protected override render() {\n    const cols = this.view.columnManagerList;\n\n    return html`\n      <div class=\"affine-database-column-stats\">\n        ${repeat(\n          cols,\n          col => col.id,\n          col => {\n            return html`<affine-database-column-stats-cell\n              .column=${col}\n              .group=${this.group}\n            ></affine-database-column-stats-cell>`;\n          }\n        )}\n      </div>\n    `;\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n\n    this.disposables.add(\n      this.view.slots.update.on(() => {\n        this.requestUpdate();\n      })\n    );\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'affine-database-column-stats': DataBaseColumnStats;\n  }\n}\n"]}