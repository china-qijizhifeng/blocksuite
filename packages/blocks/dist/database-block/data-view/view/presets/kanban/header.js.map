{"version":3,"file":"header.js","sourceRoot":"","sources":["../../../../../../src/database-block/data-view/view/presets/kanban/header.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,WAAW,CAAC;AAEnB,OAAO,EAAE,iBAAiB,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AAC1E,OAAO,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAC1B,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAE1C,OAAO,EAAE,OAAO,EAAE,MAAM,4CAA4C,CAAC;AAGrE,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;CAgBjB,CAAC;IAGW,YAAY;4BADxB,aAAa,CAAC,gCAAgC,CAAC;;;;sBACd,cAAc,CAAC,iBAAiB,CAAC;;;;4BAAzC,SAAQ,WAAiC;;;;YAIxD,kFAA6B;YAE9B,eAAU,sDAAG,CAAC,CAAa,EAAE,EAAE;gBACrC,OAAO,CAAC,CAAC,CAAC,MAAqB,EAAE;oBAC/B,OAAO,EAAE;wBACP,KAAK,EAAE;4BACL,MAAM,EAAE,IAAI;yBACb;wBACD,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB;6BAC/B,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;6BAChE,GAAG,CAAC,MAAM,CAAC,EAAE;4BACZ,OAAO;gCACL,IAAI,EAAE,QAAQ;gCACd,IAAI,EAAE,MAAM,CAAC,IAAI;gCACjB,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gCACnC,CAAC;6BACF,CAAC;wBACJ,CAAC,CAAC;qBACL;iBACF,CAAC,CAAC;YACL,CAAC,EAAC;QAUJ,CAAC;;;gCAhCE,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,iKAAS,IAAI,6BAAJ,IAAI,mFAAyB;YAJxC,6KAmCC;;;;iBAlCiB,WAAM,GAAG,MAAM,AAAT,CAAU;QAGhC,uBAAsC;QAAtC,IAAS,IAAI,0CAAyB;QAAtC,IAAS,IAAI,gDAAyB;QAuB7B,MAAM;YACb,OAAO,IAAI,CAAA;;;4CAG6B,IAAI,CAAC,UAAU;;KAEtD,CAAC;QACJ,CAAC;;YAlCU,uDAAY;;;;;SAAZ,YAAY","sourcesContent":["import './card.js';\n\nimport { ShadowlessElement, WithDisposable } from '@blocksuite/block-std';\nimport { css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { html } from 'lit/static-html.js';\n\nimport { popMenu } from '../../../../../_common/components/index.js';\nimport type { DataViewKanbanManager } from './kanban-view-manager.js';\n\nconst styles = css`\n  affine-data-view-kanban-header {\n    display: flex;\n    justify-content: space-between;\n    padding: 4px;\n  }\n\n  .select-group {\n    border-radius: 8px;\n    padding: 4px 8px;\n    cursor: pointer;\n  }\n\n  .select-group:hover {\n    background-color: var(--affine-hover-color);\n  }\n`;\n\n@customElement('affine-data-view-kanban-header')\nexport class KanbanHeader extends WithDisposable(ShadowlessElement) {\n  static override styles = styles;\n\n  @property({ attribute: false })\n  accessor view!: DataViewKanbanManager;\n\n  private clickGroup = (e: MouseEvent) => {\n    popMenu(e.target as HTMLElement, {\n      options: {\n        input: {\n          search: true,\n        },\n        items: this.view.columnManagerList\n          .filter(column => column.id !== this.view.view.groupBy?.columnId)\n          .map(column => {\n            return {\n              type: 'action',\n              name: column.name,\n              select: () => {\n                this.view.changeGroup(column.id);\n              },\n            };\n          }),\n      },\n    });\n  };\n\n  override render() {\n    return html`\n      <div></div>\n      <div>\n        <div class=\"select-group\" @click=\"${this.clickGroup}\">Group</div>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'affine-data-view-kanban-header': KanbanHeader;\n  }\n}\n"]}