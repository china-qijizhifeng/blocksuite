{"version":3,"file":"paragraph-service.js","sourceRoot":"","sources":["../../src/paragraph-block/paragraph-service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AAErD,OAAO,EAAE,aAAa,EAAE,MAAM,qCAAqC,CAAC;AACpE,OAAO,EAEL,iCAAiC,GAClC,MAAM,kDAAkD,CAAC;AAC1D,OAAO,EAAE,2BAA2B,EAAE,MAAM,uCAAuC,CAAC;AACpF,OAAO,EAAE,mBAAmB,EAAE,MAAM,oEAAoE,CAAC;AAGzG,MAAM,OAAO,qBAEX,SAAQ,YAAiC;IAF3C;;QAGW,kBAAa,GAAG,IAAI,aAAa,EAAkB,CAAC;QAEpD,wBAAmB,GAAG,IAAI,mBAAmB,EAAE,CAAC;QAczD,yBAAoB,GAA2C,KAAK,CAAC,EAAE;YACrE,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;gBAC1B,OAAO,uBAAuB,CAAC;YACjC,CAAC;YAED,MAAM,YAAY,GAAG;gBACnB,EAAE,EAAE,WAAW;gBACf,EAAE,EAAE,WAAW;gBACf,EAAE,EAAE,WAAW;gBACf,EAAE,EAAE,WAAW;gBACf,EAAE,EAAE,WAAW;gBACf,EAAE,EAAE,WAAW;gBACf,KAAK,EAAE,EAAE;aACV,CAAC;YACF,OAAO,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC;IACJ,CAAC;IA5BU,OAAO;QACd,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE1C,MAAM,WAAW,GAAG,iCAAiC,CACnD,IAAI,CAAC,mBAAmB,CACzB,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,CAAC;IAC1E,CAAC;CAkBF","sourcesContent":["import { BlockService } from '@blocksuite/block-std';\n\nimport { InlineManager } from '../_common/inline/inline-manager.js';\nimport {\n  type AffineTextAttributes,\n  getAffineInlineSpecsWithReference,\n} from '../_common/inline/presets/affine-inline-specs.js';\nimport { affineInlineMarkdownMatches } from '../_common/inline/presets/markdown.js';\nimport { ReferenceNodeConfig } from '../_common/inline/presets/nodes/reference-node/reference-config.js';\nimport type { ParagraphBlockModel } from './paragraph-model.js';\n\nexport class ParagraphBlockService<\n  TextAttributes extends AffineTextAttributes = AffineTextAttributes,\n> extends BlockService<ParagraphBlockModel> {\n  readonly inlineManager = new InlineManager<TextAttributes>();\n\n  readonly referenceNodeConfig = new ReferenceNodeConfig();\n\n  override mounted(): void {\n    super.mounted();\n\n    this.referenceNodeConfig.setDoc(this.doc);\n\n    const inlineSpecs = getAffineInlineSpecsWithReference(\n      this.referenceNodeConfig\n    );\n    this.inlineManager.registerSpecs(inlineSpecs);\n    this.inlineManager.registerMarkdownMatches(affineInlineMarkdownMatches);\n  }\n\n  placeholderGenerator: (model: ParagraphBlockModel) => string = model => {\n    if (model.type === 'text') {\n      return \"Type '/' for commands\";\n    }\n\n    const placeholders = {\n      h1: 'Heading 1',\n      h2: 'Heading 2',\n      h3: 'Heading 3',\n      h4: 'Heading 4',\n      h5: 'Heading 5',\n      h6: 'Heading 6',\n      quote: '',\n    };\n    return placeholders[model.type];\n  };\n}\n"]}