{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../src/surface-block/canvas-renderer/element-renderer/brush/index.ts"],"names":[],"mappings":"AAGA,MAAM,UAAU,KAAK,CACnB,KAAwB,EACxB,GAA6B,EAC7B,MAAiB,EACjB,QAAkB;IAElB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;IAChC,MAAM,CAAC,EAAE,AAAD,EAAG,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC;IAC1C,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IAEjB,GAAG,CAAC,YAAY,CACd,MAAM,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CACxE,CAAC;IAEF,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACjD,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;AACvC,CAAC","sourcesContent":["import type { BrushElementModel } from '../../../element-model/brush.js';\nimport type { Renderer } from '../../renderer.js';\n\nexport function brush(\n  model: BrushElementModel,\n  ctx: CanvasRenderingContext2D,\n  matrix: DOMMatrix,\n  renderer: Renderer\n) {\n  const { color, rotate } = model;\n  const [, , w, h] = model.deserializedXYWH;\n  const cx = w / 2;\n  const cy = h / 2;\n\n  ctx.setTransform(\n    matrix.translateSelf(cx, cy).rotateSelf(rotate).translateSelf(-cx, -cy)\n  );\n\n  ctx.fillStyle = renderer.getVariableColor(color);\n  ctx.fill(new Path2D(model.commands));\n}\n"]}