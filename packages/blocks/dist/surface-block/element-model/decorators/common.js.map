{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../../src/surface-block/element-model/decorators/common.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AACH,MAAM,UAAU,iBAAiB,CAC/B,MAAc,EACd,MAAe,EACf,IAAqB,EACrB,GAAY;IAEZ,aAAa;IACb,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACtC,aAAa;IACb,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;AAC7B,CAAC;AAED;;;;;;GAMG;AACH,MAAM,UAAU,iBAAiB,CAC/B,MAAe,EACf,MAAc,EACd,IAAsB;IAEtB,IAAI,IAAI,EAAE,CAAC;QACT,aAAa;QACb,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;IACxC,CAAC;IAED,aAAa;IACb,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;AAC9B,CAAC;AAED;;;;;GAKG;AACH,MAAM,KAAK,GAIP;IACF,QAAQ,EAAE,KAAK;IACf,QAAQ,EAAE,KAAK;IACf,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF,MAAM,UAAU,iBAAiB;IAC/B,OAAO,KAAK,CAAC;AACf,CAAC","sourcesContent":["/**\n * Set metadata for a property\n * @param symbol Unique symbol for the metadata\n * @param target The target object to set metadata on, usually the prototype\n * @param prop The property name\n * @param val The value to set\n */\nexport function setObjectPropMeta(\n  symbol: symbol,\n  target: unknown,\n  prop: string | symbol,\n  val: unknown\n) {\n  // @ts-ignore\n  target[symbol] = target[symbol] ?? {};\n  // @ts-ignore\n  target[symbol][prop] = val;\n}\n\n/**\n * Get metadata for a property\n * @param target The target object to retrieve metadata from, usually the prototype\n * @param symbol Unique symbol for the metadata\n * @param prop The property name, if not provided, returns all metadata for that symbol\n * @returns\n */\nexport function getObjectPropMeta(\n  target: unknown,\n  symbol: symbol,\n  prop?: string | symbol\n) {\n  if (prop) {\n    // @ts-ignore\n    return target[symbol]?.[prop] ?? null;\n  }\n\n  // @ts-ignore\n  return target[symbol] ?? {};\n}\n\n/**\n * Decorator state is used to control decorator's behaviour.\n * Eg., yfield decorator will pause executioon when creating model from existing ymap because that would cause\n * the existing value get overrided by default value.\n * @returns\n */\nconst state: {\n  creating: boolean;\n  deriving: boolean;\n  skipYfield: boolean;\n} = {\n  creating: false,\n  deriving: false,\n  skipYfield: false,\n};\n\nexport function getDecoratorState() {\n  return state;\n}\n"]}