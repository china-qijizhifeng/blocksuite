{"version":3,"file":"inline-editor.js","sourceRoot":"","sources":["../../../src/_common/utils/inline-editor.ts"],"names":[],"mappings":"AAEA,6EAA6E;AAC7E,2DAA2D;AAC3D,gEAAgE;AAChE,MAAM,UAAU,8BAA8B,CAC5C,YAA0B;IAE1B,IAAI,WAAW,GAAG,YAAY,CAAC,cAAc,EAAE,CAAC;IAChD,MAAM,OAAO,GAAG,YAAY,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE;QACjE,IACE,WAAW;YACX,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,CAAC,KAAK,CAAC;gBACpC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,EAC3C,CAAC;YACD,WAAW,GAAG,CAAC,CAAC;QAClB,CAAC;aAAM,CAAC;YACN,YAAY,CAAC,UAAU,EAAE,CAAC;YAC1B,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["import type { InlineEditor } from '@blocksuite/inline';\n\n// When the user selects a range, check if it matches the previous selection.\n// If it does, apply the marks from the previous selection.\n// If it does not, remove the marks from the previous selection.\nexport function clearMarksOnDiscontinuousInput(\n  inlineEditor: InlineEditor\n): void {\n  let inlineRange = inlineEditor.getInlineRange();\n  const dispose = inlineEditor.slots.inlineRangeUpdate.on(([r, s]) => {\n    if (\n      inlineRange &&\n      r &&\n      ((!s && r.index === inlineRange.index) ||\n        (s && r.index === inlineRange.index + 1))\n    ) {\n      inlineRange = r;\n    } else {\n      inlineEditor.resetMarks();\n      dispose.dispose();\n    }\n  });\n}\n"]}