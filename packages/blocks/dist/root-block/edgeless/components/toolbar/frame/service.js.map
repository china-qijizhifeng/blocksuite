{"version":3,"file":"service.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/frame/service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AACxD,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAElD,OAAO,EAAE,KAAK,EAAE,MAAM,uCAAuC,CAAC;AAG9D;;GAEG;AACH,MAAM,CAAC,MAAM,WAAW,GAAG,CACzB,QAAoC,EACpC,EAAY,EACZ,EAAE;IACF,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC;IACvC,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;IAChD,MAAM,KAAK,GAAG,IAAI,KAAK,CACrB,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EACpB,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EACpB,EAAE,CAAC,CAAC,CAAC,EACL,EAAE,CAAC,CAAC,CAAC,CACN,CAAC;IACF,MAAM,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAClC,cAAc,EACd;QACE,KAAK,EAAE,IAAI,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QAC7D,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE;KACxB,EACD,QAAQ,CAAC,OAAO,CAAC,KAAK,CACvB,CAAC;IACF,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IAC3B,MAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;IAClD,YAAY,CAAC,KAAK,CAAC,CAAC;IACpB,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IACpD,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC;QAC7B,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;QACpB,OAAO,EAAE,KAAK;KACf,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { assertExists } from '@blocksuite/global/utils';\nimport { DocCollection } from '@blocksuite/store';\n\nimport { Bound } from '../../../../../surface-block/index.js';\nimport type { EdgelessRootBlockComponent } from '../../../edgeless-root-block.js';\n\n/**\n * Create a frame block with the given width and height\n */\nexport const createFrame = (\n  edgeless: EdgelessRootBlockComponent,\n  wh: number[]\n) => {\n  const frames = edgeless.service.frames;\n  const center = edgeless.service.viewport.center;\n  const bound = new Bound(\n    center.x - wh[0] / 2,\n    center.y - wh[1] / 2,\n    wh[0],\n    wh[1]\n  );\n  const id = edgeless.service.addBlock(\n    'affine:frame',\n    {\n      title: new DocCollection.Y.Text(`Frame ${frames.length + 1}`),\n      xywh: bound.serialize(),\n    },\n    edgeless.surface.model\n  );\n  edgeless.doc.captureSync();\n  const frame = edgeless.service.getElementById(id);\n  assertExists(frame);\n  edgeless.tools.setEdgelessTool({ type: 'default' });\n  edgeless.service.selection.set({\n    elements: [frame.id],\n    editing: false,\n  });\n};\n"]}