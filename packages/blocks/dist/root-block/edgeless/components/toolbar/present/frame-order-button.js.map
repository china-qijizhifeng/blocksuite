{"version":3,"file":"frame-order-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/present/frame-order-button.ts"],"names":[],"mappings":"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","sourcesContent":["import './frame-order-menu.js';\nimport '../../buttons/tool-icon-button.js';\n\nimport { WithDisposable } from '@blocksuite/block-std';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property, query } from 'lit/decorators.js';\n\nimport { FrameOrderAdjustmentIcon } from '../../../../../_common/icons/index.js';\nimport { createButtonPopper } from '../../../../../_common/utils/button-popper.js';\nimport type { FrameBlockModel } from '../../../../../frame-block/index.js';\nimport type { EdgelessRootBlockComponent } from '../../../edgeless-root-block.js';\nimport type { EdgelessFrameOrderMenu } from './frame-order-menu.js';\n\n@customElement('edgeless-frame-order-button')\nexport class EdgelessFrameOrderButton extends WithDisposable(LitElement) {\n  static override styles = css`\n    edgeless-frame-order-menu {\n      display: none;\n    }\n\n    edgeless-frame-order-menu[data-show] {\n      display: initial;\n    }\n  `;\n\n  @query('.edgeless-frame-order-button')\n  private accessor _edgelessFrameOrderButton!: HTMLElement;\n\n  @query('edgeless-frame-order-menu')\n  private accessor _edgelessFrameOrderMenu!: EdgelessFrameOrderMenu;\n\n  private _edgelessFrameOrderPopper: ReturnType<\n    typeof createButtonPopper\n  > | null = null;\n\n  @property({ attribute: false })\n  accessor edgeless!: EdgelessRootBlockComponent;\n\n  @property({ attribute: false })\n  accessor frames!: FrameBlockModel[];\n\n  @property({ attribute: false })\n  accessor popperShow = false;\n\n  protected override render() {\n    const { readonly } = this.edgeless.doc;\n    return html`\n      <style>\n        .edgeless-frame-order-button svg {\n          color: ${readonly ? 'var(--affine-text-disable-color)' : 'inherit'};\n        }\n      </style>\n      <edgeless-tool-icon-button\n        class=\"edgeless-frame-order-button\"\n        .tooltip=${this.popperShow ? '' : 'Frame Order'}\n        @click=${() => {\n          if (readonly) return;\n          this._edgelessFrameOrderPopper?.toggle();\n        }}\n        .iconContainerPadding=${0}\n      >\n        ${FrameOrderAdjustmentIcon}\n      </edgeless-tool-icon-button>\n      <edgeless-frame-order-menu\n        .edgeless=${this.edgeless}\n        .frames=${this.frames}\n      >\n      </edgeless-frame-order-menu>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor setPopperShow: (show: boolean) => void = () => {};\n\n  override firstUpdated() {\n    this._edgelessFrameOrderPopper = createButtonPopper(\n      this._edgelessFrameOrderButton,\n      this._edgelessFrameOrderMenu,\n      ({ display }) => this.setPopperShow(display === 'show'),\n      22\n    );\n  }\n}\n"]}