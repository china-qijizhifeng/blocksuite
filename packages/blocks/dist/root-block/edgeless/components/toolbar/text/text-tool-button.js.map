{"version":3,"file":"text-tool-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/text/text-tool-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,iCAAiC,CAAC;AACzC,OAAO,gBAAgB,CAAC;AAExB,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAEvD,OAAO,EAAE,gBAAgB,EAAE,MAAM,uCAAuC,CAAC;AAEzE,OAAO,EAAE,sBAAsB,EAAE,MAAM,4BAA4B,CAAC;AACpE,OAAO,EAAE,sBAAsB,EAAE,MAAM,gBAAgB,CAAC;AACxD,OAAO,EAAE,wBAAwB,EAAE,MAAM,yBAAyB,CAAC;AAEnE;;GAEG;IAEU,sBAAsB;4BADlC,aAAa,CAAC,2BAA2B,CAAC;;;;sBACC,wBAAwB,CAClE,UAAU,CACX;;;;sCAFmC,SAAQ,WAE3C;;;;YAcU,8EAAqC;gBAC5C,KAAK,EAAE,sBAAsB,EAAE;aAChC,EAAC;YAEO,SAAI,wDAAG,MAAe,EAAC;QAmClC,CAAC;;;kCAxCE,KAAK,EAAE;YACR,uKAAS,MAAM,6BAAN,MAAM,uFAEb;YAlBJ,6KAuDC;;;;iBApDiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;GAU3B,AAVqB,CAUpB;QAGF,yBAEE;QAFF,IAAS,MAAM,4CAEb;QAFF,IAAS,MAAM,kDAEb;QAIM,eAAe;YACrB,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChB,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC;oBAClC,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QAEQ,MAAM;YACb,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;YAExB,OAAO,IAAI,CAAA;;;mBAGI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC,MAAM,EAAE,GAAG,CAAC;yBAChD,EAAE;kBACT,MAAM;sBACF,YAAY;iBACjB,GAAG,EAAE;gBACZ,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC;;;uBAGc,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;uBAC3B,QAAQ,CAAC,EAAE,KAAK,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;cACzD,gBAAgB;;;;KAIzB,CAAC;QACJ,CAAC;;YAtDU,uDAAsB;;;;;SAAtB,sBAAsB","sourcesContent":["import '../../buttons/toolbar-button.js';\nimport './text-menu.js';\n\nimport { css, html, LitElement } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nimport { EdgelessTextIcon } from '../../../../../_common/icons/index.js';\nimport type { LastProps } from '../../../../../surface-block/managers/edit-session.js';\nimport { GET_DEFAULT_TEXT_COLOR } from '../../panel/color-panel.js';\nimport { getTooltipWithShortcut } from '../../utils.js';\nimport { EdgelessToolbarToolMixin } from '../mixins/tool.mixin.js';\n\n/**\n * @deprecated not used\n */\n@customElement('edgeless-text-tool-button')\nexport class EdgelessTextToolButton extends EdgelessToolbarToolMixin(\n  LitElement\n) {\n  static override styles = css`\n    :host {\n      display: flex;\n    }\n    .edgeless-text-button {\n      position: relative;\n      width: 54px;\n      height: 44px;\n      overflow-y: hidden;\n    }\n  `;\n\n  @state()\n  accessor states: Partial<LastProps['text']> = {\n    color: GET_DEFAULT_TEXT_COLOR(),\n  };\n\n  override type = 'text' as const;\n\n  private _toggleTextMenu() {\n    if (this.popper) {\n      this.requestUpdate();\n    } else {\n      this.edgeless.tools.setEdgelessTool({\n        type: this.type,\n      });\n    }\n  }\n\n  override render() {\n    const { active } = this;\n\n    return html`\n      <edgeless-toolbar-button\n        class=\"edgeless-text-button\"\n        .tooltip=${this.popper ? '' : getTooltipWithShortcut('Text', 'T')}\n        .tooltipOffset=${15}\n        .active=${active}\n        .activeMode=${'background'}\n        @click=${() => {\n          this._toggleTextMenu();\n        }}\n      >\n        <div class=\"edgeless-text-button\">\n          <div class=${active ? 'active-mode' : ''}></div>\n          <div style=${styleMap({ color: `var(${this.states.color})` })}>\n            ${EdgelessTextIcon}\n          </div>\n        </div>\n      </edgeless-toolbar-button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-text-tool-button': EdgelessTextToolButton;\n  }\n}\n"]}