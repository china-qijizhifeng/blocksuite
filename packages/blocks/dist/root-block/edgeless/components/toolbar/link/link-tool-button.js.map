{"version":3,"file":"link-tool-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/link/link-tool-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAElD,OAAO,EAAE,QAAQ,EAAE,MAAM,sCAAsC,CAAC;AAChE,OAAO,EAAE,sBAAsB,EAAE,MAAM,gBAAgB,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,MAAM,+BAA+B,CAAC;IAGlD,sBAAsB;4BADlC,aAAa,CAAC,2BAA2B,CAAC;;;;sBACC,cAAc,CAAC,UAAU,CAAC;sCAAlC,SAAQ,WAA0B;;;;YAS3D,SAAI,GAAG,SAAkB,CAAC;QAyDrC,CAAC;;;YAlED,6KAkEC;;;;iBAjEiB,WAAM,GAAG,GAAG,CAAA;;;;;;GAM3B,AANqB,CAMpB;QAIM,QAAQ;YACd,IAAI,CAAC,QAAQ,CAAC,OAAO;iBAClB,uBAAuB,EAAE;iBACzB,IAAI,CAAC,IAAI,CAAC,EAAE;gBACX,IAAI,IAAI,EAAE,CAAC;oBACT,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,oBAAoB,EAAE;wBAClE,OAAO,EAAE,iBAAiB;wBAC1B,IAAI,EAAE,mBAAmB;wBACzB,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE,SAAS;wBAClB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBACjC,CAAC,CAAC;oBAEH,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAClB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,YAAY,EAAE;4BAC1D,OAAO,EAAE,iBAAiB;4BAC1B,IAAI,EAAE,mBAAmB;4BACzB,MAAM,EAAE,kBAAkB;4BAC1B,OAAO,EAAE,YAAY;4BACrB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;yBACjC,CAAC,CAAC;wBACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,kBAAkB,EAAE;4BAChE,OAAO,EAAE,OAAO;4BAChB,IAAI,EAAE,mBAAmB;4BACzB,MAAM,EAAE,kBAAkB;4BAC1B,OAAO,EAAE,YAAY;4BACrB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;4BAChC,KAAK,EAAE,SAAS;yBACjB,CAAC,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACN,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,kBAAkB,EAAE;4BAChE,OAAO,EAAE,OAAO;4BAChB,IAAI,EAAE,mBAAmB;4BACzB,MAAM,EAAE,kBAAkB;4BAC1B,OAAO,EAAE,YAAY;4BACrB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;4BAChC,KAAK,EAAE,cAAc;yBACtB,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC;QAEQ,MAAM;YACb,OAAO,IAAI,CAAA;+BACgB,CAAC;kBACd,sBAAsB,CAAC,MAAM,EAAE,GAAG,CAAC;uBAC9B,EAAE;;eAEV,IAAI,CAAC,QAAQ;;gCAEI,QAAQ;iCACP,CAAC;QAChC,CAAC;;YAjEU,uDAAsB;;;;;SAAtB,sBAAsB","sourcesContent":["import { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\nimport { LinkIcon } from '../../../../../_common/icons/text.js';\nimport { getTooltipWithShortcut } from '../../utils.js';\nimport { QuickToolMixin } from '../mixins/quick-tool.mixin.js';\n\n@customElement('edgeless-link-tool-button')\nexport class EdgelessLinkToolButton extends QuickToolMixin(LitElement) {\n  static override styles = css`\n    .link-icon,\n    .link-icon > svg {\n      width: 24px;\n      height: 24px;\n    }\n  `;\n\n  override type = 'default' as const;\n\n  private _onClick() {\n    this.edgeless.service\n      .insertLinkByQuickSearch()\n      .then(type => {\n        if (type) {\n          this.edgeless.service.telemetryService?.track('CanvasElementAdded', {\n            control: 'toolbar:general',\n            page: 'whiteboard editor',\n            module: 'toolbar',\n            segment: 'toolbar',\n            type: type.flavour.split(':')[1],\n          });\n\n          if (type.isNewDoc) {\n            this.edgeless.service.telemetryService?.track('DocCreated', {\n              control: 'toolbar:general',\n              page: 'whiteboard editor',\n              module: 'edgeless toolbar',\n              segment: 'whiteboard',\n              type: type.flavour.split(':')[1],\n            });\n            this.edgeless.service.telemetryService?.track('LinkedDocCreated', {\n              control: 'links',\n              page: 'whiteboard editor',\n              module: 'edgeless toolbar',\n              segment: 'whiteboard',\n              type: type.flavour.split(':')[1],\n              other: 'new doc',\n            });\n          } else {\n            this.edgeless.service.telemetryService?.track('LinkedDocCreated', {\n              control: 'links',\n              page: 'whiteboard editor',\n              module: 'edgeless toolbar',\n              segment: 'whiteboard',\n              type: type.flavour.split(':')[1],\n              other: 'existing doc',\n            });\n          }\n        }\n      })\n      .catch(console.error);\n  }\n\n  override render() {\n    return html`<edgeless-tool-icon-button\n      .iconContainerPadding=\"${6}\"\n      .tooltip=\"${getTooltipWithShortcut('Link', '@')}\"\n      .tooltipOffset=${17}\n      class=\"edgeless-link-tool-button\"\n      @click=${this._onClick}\n    >\n      <span class=\"link-icon\">${LinkIcon}</span>\n    </edgeless-tool-icon-button>`;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-link-tool-button': EdgelessLinkToolButton;\n  }\n}\n"]}