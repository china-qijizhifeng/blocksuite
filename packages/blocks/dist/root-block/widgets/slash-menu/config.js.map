{"version":3,"file":"config.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/slash-menu/config.ts"],"names":[],"mappings":"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","sourcesContent":["import { assertExists } from '@blocksuite/global/utils';\nimport type { BlockModel } from '@blocksuite/store';\nimport { Slice, Text } from '@blocksuite/store';\nimport type { TemplateResult } from 'lit';\n\nimport { toast } from '../../../_common/components/toast.js';\nimport { textConversionConfigs } from '../../../_common/configs/text-conversion.js';\nimport { textFormatConfigs } from '../../../_common/configs/text-format/config.js';\nimport {\n  ArrowDownBigIcon,\n  ArrowUpBigIcon,\n  CopyIcon,\n  DeleteIcon,\n  HeadingIcon,\n  NowIcon,\n  PasteIcon,\n  TodayIcon,\n  TomorrowIcon,\n  YesterdayIcon,\n} from '../../../_common/icons/index.js';\nimport {\n  getInlineEditorByModel,\n} from '../../../_common/utils/index.js';\nimport { clearMarksOnDiscontinuousInput } from '../../../_common/utils/inline-editor.js';\nimport type { ParagraphBlockModel } from '../../../paragraph-block/index.js';\nimport { onModelTextUpdated } from '../../../root-block/utils/index.js';\nimport type { RootBlockComponent } from '../../types.js';\nimport { type SlashMenuTooltip, slashMenuToolTips } from './tooltips/index.js';\nimport {\n  createConversionItem,\n  formatDate,\n  formatTime,\n  insertContent,\n  insideDatabase,\n  insideEdgelessText,\n} from './utils.js';\n\nexport type SlashMenuConfig = {\n  triggerKeys: string[];\n  ignoreBlockTypes: BlockSuite.Flavour[];\n  items: SlashMenuItem[];\n  maxHeight: number;\n  tooltipTimeout: number;\n};\n\nexport type SlashMenuStaticConfig = Omit<SlashMenuConfig, 'items'> & {\n  items: SlashMenuStaticItem[];\n};\n\nexport type SlashMenuItem = SlashMenuStaticItem | SlashMenuItemGenerator;\n\nexport type SlashMenuStaticItem =\n  | SlashMenuGroupDivider\n  | SlashMenuActionItem\n  | SlashSubMenu;\n\nexport type SlashMenuGroupDivider = {\n  groupName: string;\n  showWhen?: (ctx: SlashMenuContext) => boolean;\n};\n\nexport type SlashMenuActionItem = {\n  name: string;\n  description?: string;\n  icon?: TemplateResult;\n  tooltip?: SlashMenuTooltip;\n  alias?: string[];\n  showWhen?: (ctx: SlashMenuContext) => boolean;\n  action: (ctx: SlashMenuContext) => void | Promise<void>;\n\n  customTemplate?: TemplateResult<1>;\n};\n\nexport type SlashSubMenu = {\n  name: string;\n  description?: string;\n  icon?: TemplateResult;\n  alias?: string[];\n  showWhen?: (ctx: SlashMenuContext) => boolean;\n  subMenu: SlashMenuStaticItem[];\n};\n\nexport type SlashMenuItemGenerator = (\n  ctx: SlashMenuContext\n) => (SlashMenuGroupDivider | SlashMenuActionItem | SlashSubMenu)[];\n\nexport type SlashMenuContext = {\n  rootElement: RootBlockComponent;\n  model: BlockModel;\n};\n\nexport const defaultSlashMenuConfig: SlashMenuConfig = {\n  triggerKeys: ['/', '、'],\n  ignoreBlockTypes: ['affine:code'],\n  maxHeight: 344,\n  tooltipTimeout: 800,\n  items: [\n    // ---------------------------------------------------------\n    // AI 占位符（自定义内联组件）\n    // 插入可交互的 AI 占位符，支持编辑、持久化\n    // ---------------------------------------------------------\n    { groupName: 'AI' },\n    {\n      name: 'AI 占位符',\n      description: '插入 AI 占位符，让 AI 填充内容',\n      icon: HeadingIcon,\n      action: ({ rootElement, model }) => {\n        // 获取内联编辑器\n        const inlineEditor = getInlineEditorByModel(rootElement.host, model);\n        if (!inlineEditor) {\n          console.warn('[AI占位符] 无法获取内联编辑器');\n          return;\n        }\n        \n        // 获取当前光标位置\n        const inlineRange = inlineEditor.getInlineRange();\n        if (!inlineRange) {\n          console.warn('[AI占位符] 无法获取光标位置');\n          return;\n        }\n        \n        // 插入带 aiPlaceholder 属性的占位字符\n        // BlockSuite 会自动渲染为 <affine-ai-placeholder> 组件\n        inlineEditor.insertText(inlineRange, ' ', {\n          aiPlaceholder: { content: '输入要求' },\n        });\n        \n        // 移动光标到占位符后面\n        inlineEditor.setInlineRange({\n          index: inlineRange.index + 1,\n          length: 0,\n        });\n      },\n    },\n\n    // ---------------------------------------------------------\n    { groupName: '基础' },\n    ...textConversionConfigs\n      .filter(i => i.type && ['text', 'h1', 'h2', 'h3'].includes(i.type))\n      .map(createConversionItem),\n    {\n      name: 'Other Headings',\n      icon: HeadingIcon,\n      subMenu: [\n        { groupName: 'Headings' },\n        ...textConversionConfigs\n          .filter(i => i.type && ['h4', 'h5', 'h6'].includes(i.type))\n          .map<SlashMenuActionItem>(createConversionItem),\n      ],\n    },\n    ...textConversionConfigs\n      .filter(i => i.flavour === 'affine:code')\n      .map<SlashMenuActionItem>(config => ({\n        ...createConversionItem(config),\n        showWhen: ({ model }) =>\n          model.doc.schema.flavourSchemaMap.has(config.flavour) &&\n          !insideDatabase(model),\n        action: ({ rootElement }) => {\n          const { flavour, type } = config;\n          rootElement.host.std.command\n            .chain()\n            .updateBlockType({\n              flavour,\n              props: { type },\n            })\n            .inline((ctx, next) => {\n              const newModels = ctx.updatedBlocks;\n              if (!newModels) return false;\n\n              // Reset selection if the target is code block\n              if (flavour === 'affine:code') {\n                if (newModels.length !== 1) {\n                  console.error(\n                    \"Failed to reset selection! New model length isn't 1\"\n                  );\n                  return false;\n                }\n                const codeModel = newModels[0];\n                onModelTextUpdated(rootElement.host, codeModel, richText => {\n                  const inlineEditor = richText.inlineEditor;\n                  assertExists(inlineEditor);\n                  inlineEditor.focusEnd();\n                }).catch(console.error);\n              }\n\n              return next();\n            })\n            .run();\n        },\n      })),\n\n    ...textConversionConfigs\n      .filter(i => i.type && ['quote', 'divider'].includes(i.type))\n      .map<SlashMenuActionItem>(config => ({\n        ...createConversionItem(config),\n        showWhen: ({ model }) =>\n          model.doc.schema.flavourSchemaMap.has(config.flavour) &&\n          !insideDatabase(model) &&\n          !insideEdgelessText(model),\n      })),\n\n    // ---------------------------------------------------------\n    { groupName: 'List' },\n    ...textConversionConfigs\n      .filter(i => i.flavour === 'affine:list')\n      .map(createConversionItem),\n\n    // ---------------------------------------------------------\n    { groupName: 'Style' },\n    ...textFormatConfigs\n      .filter(i => !['Link', 'Code'].includes(i.name))\n      .map<SlashMenuActionItem>(({ name, icon, id }) => ({\n        name,\n        icon,\n        tooltip: slashMenuToolTips[name],\n        action: ({ rootElement, model }) => {\n          if (!model.text) {\n            return;\n          }\n          const len = model.text.length;\n          if (!len) {\n            const inlineEditor = getInlineEditorByModel(\n              rootElement.host,\n              model\n            );\n            assertExists(\n              inlineEditor,\n              \"Can't set style mark! Inline editor not found\"\n            );\n            inlineEditor.setMarks({\n              [id]: true,\n            });\n            clearMarksOnDiscontinuousInput(inlineEditor);\n            return;\n          }\n          model.text.format(0, len, {\n            [id]: true,\n          });\n        },\n      })),\n\n    // ---------------------------------------------------------\n    // 【已移除】Page、Content & Media、Frame/Group 等复杂功能\n    // 只保留纯文本编辑相关的功能\n    // ---------------------------------------------------------\n\n    // ---------------------------------------------------------\n    { groupName: 'Date' },\n    () => {\n      const now = new Date();\n      const tomorrow = new Date();\n      const yesterday = new Date();\n\n      yesterday.setDate(yesterday.getDate() - 1);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n\n      return [\n        {\n          name: 'Today',\n          icon: TodayIcon,\n          tooltip: slashMenuToolTips['Today'],\n          description: formatDate(now),\n          action: ({ rootElement, model }) => {\n            insertContent(rootElement.host, model, formatDate(now));\n          },\n        },\n        {\n          name: 'Tomorrow',\n          icon: TomorrowIcon,\n          tooltip: slashMenuToolTips['Tomorrow'],\n          description: formatDate(tomorrow),\n          action: ({ rootElement, model }) => {\n            const tomorrow = new Date();\n            tomorrow.setDate(tomorrow.getDate() + 1);\n            insertContent(rootElement.host, model, formatDate(tomorrow));\n          },\n        },\n        {\n          name: 'Yesterday',\n          icon: YesterdayIcon,\n          tooltip: slashMenuToolTips['Yesterday'],\n          description: formatDate(yesterday),\n          action: ({ rootElement, model }) => {\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            insertContent(rootElement.host, model, formatDate(yesterday));\n          },\n        },\n        {\n          name: 'Now',\n          icon: NowIcon,\n          tooltip: slashMenuToolTips['Now'],\n          description: formatTime(now),\n          action: ({ rootElement, model }) => {\n            insertContent(rootElement.host, model, formatTime(now));\n          },\n        },\n      ];\n    },\n\n    // ---------------------------------------------------------\n    // 【已移除】Database 相关功能（Table View, Kanban View, Todo）\n    // ---------------------------------------------------------\n\n    // ---------------------------------------------------------\n    { groupName: 'Actions' },\n    {\n      name: 'Move Up',\n      description: 'Shift this line up.',\n      icon: ArrowUpBigIcon,\n      tooltip: slashMenuToolTips['Move Up'],\n      action: ({ rootElement, model }) => {\n        const doc = rootElement.doc;\n        const previousSiblingModel = doc.getPrev(model);\n        if (!previousSiblingModel) return;\n\n        const parentModel = doc.getParent(previousSiblingModel);\n        if (!parentModel) return;\n\n        doc.moveBlocks([model], parentModel, previousSiblingModel, true);\n      },\n    },\n    {\n      name: 'Move Down',\n      description: 'Shift this line down.',\n      icon: ArrowDownBigIcon,\n      tooltip: slashMenuToolTips['Move Down'],\n      action: ({ rootElement, model }) => {\n        const doc = rootElement.doc;\n        const nextSiblingModel = doc.getNext(model);\n        if (!nextSiblingModel) return;\n\n        const parentModel = doc.getParent(nextSiblingModel);\n        if (!parentModel) return;\n\n        doc.moveBlocks([model], parentModel, nextSiblingModel, false);\n      },\n    },\n    {\n      name: 'Copy',\n      description: 'Copy this line to clipboard.',\n      icon: PasteIcon,\n      tooltip: slashMenuToolTips['Copy'],\n      action: ({ rootElement, model }) => {\n        const slice = Slice.fromModels(rootElement.std.doc, [model]);\n\n        rootElement.std.clipboard\n          .copy(slice)\n          .then(() => {\n            toast(rootElement.host, 'Copied to clipboard');\n          })\n          .catch(e => {\n            console.error(e);\n          });\n      },\n    },\n    {\n      name: 'Duplicate',\n      description: 'Create a duplicate of this line.',\n      icon: CopyIcon,\n      tooltip: slashMenuToolTips['Copy'],\n      action: ({ rootElement, model }) => {\n        if (!model.text || !(model.text instanceof Text)) {\n          throw new Error(\"Can't duplicate a block without text\");\n        }\n        const parent = rootElement.doc.getParent(model);\n        if (!parent) {\n          throw new Error('Failed to duplicate block! Parent not found');\n        }\n        const index = parent.children.indexOf(model);\n\n        // TODO add clone model util\n        rootElement.doc.addBlock(\n          model.flavour as never,\n          {\n            type: (model as ParagraphBlockModel).type,\n            text: rootElement.doc.Text.fromDelta(model.text.toDelta()),\n            // @ts-expect-error\n            checked: model.checked,\n          },\n          rootElement.doc.getParent(model),\n          index\n        );\n      },\n    },\n    {\n      name: 'Delete',\n      description: 'Remove this line permanently.',\n      alias: ['remove'],\n      icon: DeleteIcon,\n      tooltip: slashMenuToolTips['Delete'],\n      action: ({ rootElement, model }) => {\n        rootElement.doc.deleteBlock(model);\n      },\n    },\n  ],\n};\n"]}