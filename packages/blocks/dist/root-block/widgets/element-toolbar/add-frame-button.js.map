{"version":3,"file":"add-frame-button.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/element-toolbar/add-frame-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,uDAAuD,CAAC;AAE/D,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AACrD,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE5D,OAAO,EAAE,SAAS,EAAE,MAAM,iCAAiC,CAAC;AAC5D,OAAO,EAAE,KAAK,EAAE,mBAAmB,EAAE,MAAM,iCAAiC,CAAC;IAIhE,sBAAsB;4BADlC,aAAa,CAAC,2BAA2B,CAAC;;;;sBACC,cAAc,CAAC,UAAU,CAAC;;;;sCAAlC,SAAQ,WAA0B;;;;YAQ3D,0FAAsC;YAEvC,iBAAY,0DAAG,GAAG,EAAE;gBAC1B,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC;gBAClE,IAAI,CAAC,KAAK;oBAAE,OAAO;gBACnB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,oBAAoB,EAAE;oBAClE,OAAO,EAAE,cAAc;oBACvB,IAAI,EAAE,mBAAmB;oBACzB,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,SAAS;oBAClB,IAAI,EAAE,OAAO;iBACd,CAAC,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACrE,CAAC,EAAC;QAcJ,CAAC;;;oCA5BE,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,6KAAS,QAAQ,6BAAR,QAAQ,2FAA8B;YARjD,6KAmCC;;;;iBAlCiB,WAAM,GAAG,GAAG,CAAA;;;;GAI3B,AAJqB,CAIpB;QAGF,2BAA+C;QAA/C,IAAS,QAAQ,8CAA8B;QAA/C,IAAS,QAAQ,oDAA8B;QAe5B,MAAM;YACvB,OAAO,IAAI,CAAA;;;mBAGI,OAAO;uBACH,MAAM;iBACZ,IAAI,CAAC,YAAY;;UAExB,SAAS;;KAEd,CAAC;QACJ,CAAC;;YAlCU,uDAAsB;;;;;SAAtB,sBAAsB;AA2CnC,MAAM,UAAU,oBAAoB,CAClC,QAAoC,EACpC,QAAwC;IAExC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC;QAAE,OAAO,OAAO,CAAC;IACxC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,YAAY,mBAAmB,CAAC;QAC5D,OAAO,OAAO,CAAC;IAEjB,OAAO,IAAI,CAAA;;kBAEK,QAAQ;;GAEvB,CAAC;AACJ,CAAC","sourcesContent":["import '../../edgeless/components/buttons/tool-icon-button.js';\n\nimport { WithDisposable } from '@blocksuite/block-std';\nimport { css, html, LitElement, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { FrameIcon } from '../../../_common/icons/index.js';\nimport { Bound, MindmapElementModel } from '../../../surface-block/index.js';\nimport type { EdgelessRootBlockComponent } from '../../edgeless/edgeless-root-block.js';\n\n@customElement('edgeless-add-frame-button')\nexport class EdgelessAddFrameButton extends WithDisposable(LitElement) {\n  static override styles = css`\n    .label {\n      padding-left: 4px;\n    }\n  `;\n\n  @property({ attribute: false })\n  accessor edgeless!: EdgelessRootBlockComponent;\n\n  private _createFrame = () => {\n    const frame = this.edgeless.service.frame.createFrameOnSelected();\n    if (!frame) return;\n    this.edgeless.service.telemetryService?.track('CanvasElementAdded', {\n      control: 'context-menu',\n      page: 'whiteboard editor',\n      module: 'toolbar',\n      segment: 'toolbar',\n      type: 'frame',\n    });\n    this.edgeless.surface.fitToViewport(Bound.deserialize(frame.xywh));\n  };\n\n  protected override render() {\n    return html`\n      <edgeless-tool-icon-button\n        aria-label=\"Frame\"\n        .tooltip=${'Frame'}\n        .labelHeight=${'20px'}\n        @click=${this._createFrame}\n      >\n        ${FrameIcon}<span class=\"label medium\">Frame</span>\n      </edgeless-tool-icon-button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-add-frame-button': EdgelessAddFrameButton;\n  }\n}\n\nexport function renderAddFrameButton(\n  edgeless: EdgelessRootBlockComponent,\n  elements: BlockSuite.EdgelessModelType[]\n) {\n  if (elements.length < 2) return nothing;\n  if (elements.some(e => e.group instanceof MindmapElementModel))\n    return nothing;\n\n  return html`\n    <edgeless-add-frame-button\n      .edgeless=${edgeless}\n    ></edgeless-add-frame-button>\n  `;\n}\n"]}