{"version":3,"file":"block-hub-menu.js","sourceRoot":"","sources":["../../../../../src/root-block/widgets/block-hub/components/block-hub-menu.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAE3B,OAAO,EACL,4BAA4B,EAC5B,qBAAqB,EACrB,YAAY,EACZ,qBAAqB,EACrB,aAAa,GACd,MAAM,oCAAoC,CAAC;AAC5C,OAAO,EACL,mBAAmB,EACnB,mBAAmB,EACnB,mBAAmB,GACpB,MAAM,cAAc,CAAC;AACtB,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;AAIrD,MAAM,iBAAiB,GAAG,CACxB,IAAyB,EACzB,QAAiB,EACjB,iBAA0B,EAC1B,eAAoC,EACpC,EAAE;IACF,OAAO,QAAQ,IAAI,iBAAiB,IAAI,eAAe,KAAK,IAAI,CAAC;AACnE,CAAC,CAAC;AAEF,MAAM,UAAU,YAAY,CAC1B,QAAiB,EACjB,UAAmB,EACnB,eAAoC,EACpC,iBAA0B,EAC1B,WAAoB,EACpB,SAAiB;IAEjB,MAAM,OAAO,GAAG,CAAC,CAAC;IAClB,MAAM,MAAM,GAAG,OAAO,GAAG,EAAE,GAAG,EAAE,CAAC;IAEjC,MAAM,iBAAiB,GAAG,aAAa,CACrC,mBAAmB,EACnB,MAAM,EACN,YAAY,EACZ,SAAS,EACT,iBAAiB,CAAC,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,eAAe,CAAC,EACvE,UAAU,EACV,WAAW,CACZ,CAAC;IAEF,MAAM,iBAAiB,GAAG,aAAa,CACrC,mBAAmB,EACnB,MAAM,EACN,MAAM,EACN,SAAS,EACT,iBAAiB,CAAC,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,eAAe,CAAC,EACvE,UAAU,EACV,WAAW,CACZ,CAAC;IAEF,MAAM,iBAAiB,GAAG,aAAa,CACrC,mBAAmB,EACnB,MAAM,EACN,iBAAiB,EACjB,SAAS,EACT,iBAAiB,CAAC,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,eAAe,CAAC,EACvE,UAAU,EACV,WAAW,CACZ,CAAC;IAEF,OAAO,IAAI,CAAA;;;oBAGO,QAAQ;uBACL,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,IAAI,CAAC,CAAC,CAAC,GAAG;;;0CAGX,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM;mBACvD,eAAe,KAAK,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;;;;;;UAMvD,4BAA4B;UAC5B,WAAW;QACX,CAAC,CAAC,IAAI,CAAA,+CAA+C,CAAC;;8BAElC;QACpB,CAAC,CAAC,IAAI;;;;;mBAKG,eAAe,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;;UAEtD,iBAAiB,IAAI,aAAa;;;;;mBAKzB,eAAe,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;;UAEtD,iBAAiB,IAAI,qBAAqB;;;;;mBAKjC,eAAe,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;;UAEtD,iBAAiB,IAAI,YAAY;;;;;;;mBAOxB,eAAe,KAAK,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;;UAE1D,qBAAqB;UACrB,WAAW;QACX,CAAC,CAAC,IAAI,CAAA,+CAA+C,CAAC;;8BAElC;QACpB,CAAC,CAAC,IAAI;;;;GAIb,CAAC;AACJ,CAAC","sourcesContent":["import { html } from 'lit';\n\nimport {\n  BlockHubRoundedRectangleIcon,\n  DatabaseTableViewIcon,\n  EmbedWebIcon,\n  NumberedListIconLarge,\n  TextIconLarge,\n} from '../../../../_common/icons/index.js';\nimport {\n  BLOCKHUB_FILE_ITEMS,\n  BLOCKHUB_LIST_ITEMS,\n  BLOCKHUB_TEXT_ITEMS,\n} from '../config.js';\nimport { BlockHubCards } from './block-hub-cards.js';\n\nexport type CardListType = 'blank' | 'text' | 'list' | 'file' | 'database';\n\nconst shouldDisplayCard = (\n  type: CardListType | null,\n  expanded: boolean,\n  isCardListVisible: boolean,\n  visibleCardType: CardListType | null\n) => {\n  return expanded && isCardListVisible && visibleCardType === type;\n};\n\nexport function BlockHubMenu(\n  expanded: boolean,\n  isGrabbing: boolean,\n  visibleCardType: CardListType | null,\n  isCardListVisible: boolean,\n  showTooltip: boolean,\n  maxHeight: number\n) {\n  const menuNum = 5;\n  const height = menuNum * 44 + 10;\n\n  const blockHubTextCards = BlockHubCards(\n    BLOCKHUB_TEXT_ITEMS,\n    'text',\n    'Text block',\n    maxHeight,\n    shouldDisplayCard('text', expanded, isCardListVisible, visibleCardType),\n    isGrabbing,\n    showTooltip\n  );\n\n  const blockHubListCards = BlockHubCards(\n    BLOCKHUB_LIST_ITEMS,\n    'list',\n    'List',\n    maxHeight,\n    shouldDisplayCard('list', expanded, isCardListVisible, visibleCardType),\n    isGrabbing,\n    showTooltip\n  );\n\n  const blockHubFileCards = BlockHubCards(\n    BLOCKHUB_FILE_ITEMS,\n    'file',\n    'Content & Media',\n    maxHeight,\n    shouldDisplayCard('file', expanded, isCardListVisible, visibleCardType),\n    isGrabbing,\n    showTooltip\n  );\n\n  return html`\n    <div\n      class=\"block-hub-icons-container\"\n      ?transition=${expanded}\n      style=\"height: ${expanded ? `${height}px` : '0'};\"\n    >\n      <div\n        class=\"block-hub-icon-container ${isGrabbing ? 'grabbing' : 'grab'}\"\n        selected=${visibleCardType === 'blank' ? 'true' : 'false'}\n        type=\"blank\"\n        draggable=\"true\"\n        affine-flavour=\"affine:paragraph\"\n        affine-type=\"text\"\n      >\n        ${BlockHubRoundedRectangleIcon}\n        ${showTooltip\n          ? html`<affine-tooltip tip-position=\"left\" .offset=${8}\n              >Drag to insert blank line\n            </affine-tooltip>`\n          : null}\n      </div>\n      <div\n        class=\"block-hub-icon-container\"\n        type=\"text\"\n        selected=${visibleCardType === 'text' ? 'true' : 'false'}\n      >\n        ${blockHubTextCards} ${TextIconLarge}\n      </div>\n      <div\n        class=\"block-hub-icon-container\"\n        type=\"list\"\n        selected=${visibleCardType === 'list' ? 'true' : 'false'}\n      >\n        ${blockHubListCards} ${NumberedListIconLarge}\n      </div>\n      <div\n        class=\"block-hub-icon-container\"\n        type=\"file\"\n        selected=${visibleCardType === 'file' ? 'true' : 'false'}\n      >\n        ${blockHubFileCards} ${EmbedWebIcon}\n      </div>\n      <div\n        class=\"block-hub-icon-container\"\n        type=\"database\"\n        draggable=\"true\"\n        affine-flavour=\"affine:database\"\n        selected=${visibleCardType === 'database' ? 'true' : 'false'}\n      >\n        ${DatabaseTableViewIcon}\n        ${showTooltip\n          ? html`<affine-tooltip tip-position=\"left\" .offset=${8}>\n              Drag to create a database\n            </affine-tooltip>`\n          : null}\n      </div>\n      <div class=\"divider\"></div>\n    </div>\n  `;\n}\n"]}