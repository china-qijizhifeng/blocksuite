{"version":3,"file":"base.js","sourceRoot":"","sources":["../../src/selection/base.ts"],"names":[],"mappings":"AAUA,MAAM,OAAgB,aAAa;IAOjC,YAAY,EAAE,OAAO,EAAwB;QAC3C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAED,EAAE,CACA,IAAO;QAEP,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC;IAC5B,CAAC;IAED,IAAI,IAAI;QACN,OAAQ,IAAI,CAAC,WAAoC;aAC9C,IAAgC,CAAC;IACtC,CAAC;IAED,IAAI,KAAK;QACP,OAAQ,IAAI,CAAC,WAAoC,CAAC,KAAK,CAAC;IAC1D,CAAC;IAMD,MAAM,CAAC,QAAQ,CAAC,CAA0B;QACxC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IACnD,CAAC;CACF","sourcesContent":["type SelectionConstructor<T = unknown> = {\n  type: string;\n  group: string;\n  new (...args: unknown[]): T;\n};\n\nexport type BaseSelectionOptions = {\n  blockId: string;\n};\n\nexport abstract class BaseSelection {\n  static readonly type: string;\n\n  static readonly group: string;\n\n  readonly blockId: string;\n\n  constructor({ blockId }: BaseSelectionOptions) {\n    this.blockId = blockId;\n  }\n\n  is<T extends BlockSuite.SelectionType>(\n    type: T\n  ): this is BlockSuite.SelectionInstance[T] {\n    return this.type === type;\n  }\n\n  get type(): BlockSuite.SelectionType {\n    return (this.constructor as SelectionConstructor)\n      .type as BlockSuite.SelectionType;\n  }\n\n  get group(): string {\n    return (this.constructor as SelectionConstructor).group;\n  }\n\n  abstract equals(other: BaseSelection): boolean;\n\n  abstract toJSON(): Record<string, unknown>;\n\n  static fromJSON(_: Record<string, unknown>): BaseSelection {\n    throw new Error('You must override this method');\n  }\n}\n"]}