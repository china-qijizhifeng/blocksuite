{"version":3,"file":"block-std-scope.js","sourceRoot":"","sources":["../../src/scope/block-std-scope.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAC;AAClD,OAAO,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AACrD,OAAO,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AACtD,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AACzD,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC7C,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAO7C,MAAM,OAAO,aAAa;IAmBxB,YAAY,OAAwB;QAClC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;QACzC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,KAAK;QACH,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACtB,CAAC;CACF","sourcesContent":["import type { Doc, DocCollection } from '@blocksuite/store';\n\nimport { Clipboard } from '../clipboard/index.js';\nimport { CommandManager } from '../command/index.js';\nimport { UIEventDispatcher } from '../event/index.js';\nimport { SelectionManager } from '../selection/index.js';\nimport { SpecStore } from '../spec/index.js';\nimport { ViewStore } from '../view/index.js';\n\nexport interface BlockStdOptions {\n  host: HTMLElement;\n  doc: Doc;\n}\n\nexport class BlockStdScope {\n  readonly doc: Doc;\n\n  readonly collection: DocCollection;\n\n  readonly event: UIEventDispatcher;\n\n  readonly selection: SelectionManager;\n\n  readonly command: CommandManager;\n\n  readonly host: HTMLElement;\n\n  readonly spec: SpecStore;\n\n  readonly view: ViewStore;\n\n  readonly clipboard: Clipboard;\n\n  constructor(options: BlockStdOptions) {\n    this.host = options.host;\n    this.collection = options.doc.collection;\n    this.doc = options.doc;\n    this.event = new UIEventDispatcher(this);\n    this.selection = new SelectionManager(this);\n    this.command = new CommandManager(this);\n    this.spec = new SpecStore(this);\n    this.view = new ViewStore(this);\n    this.clipboard = new Clipboard(this);\n  }\n\n  mount() {\n    this.selection.mount();\n    this.event.mount();\n    this.view.mount();\n    this.spec.mount();\n  }\n\n  unmount() {\n    this.event.unmount();\n    this.selection.unmount();\n    this.view.unmount();\n    this.spec.unmount();\n  }\n}\n\ntype Values<T> = T[keyof T] extends never ? unknown : T[keyof T];\n\ndeclare global {\n  namespace BlockSuite {\n    interface ComponentType {}\n    interface NodeViewType {}\n\n    type Component = Values<ComponentType>;\n\n    type Std = BlockStdScope;\n  }\n}\n"]}