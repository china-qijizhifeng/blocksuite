{"version":3,"file":"actions.js","sourceRoot":"","sources":["../../../../src/fragments/copilot-panel/doc/actions.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ChatMessage } from '../chat/logic.js';\nimport { getChatService, userText } from './api.js';\n\nexport function runChangeToneAction({\n  input,\n  tone,\n}: {\n  input: string;\n  tone: string;\n}) {\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are assisting the user in writing high quality content.',\n    },\n    userText(input),\n    userText(\n      `Change the tone the of Markdown text to ${tone}, preserving the formatting, like bold, italic, link, highlight. Please be sure to only return the content.`\n    ),\n  ]);\n}\n\nexport function runFixSpellingAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assistant',\n    },\n    userText(input),\n    userText(\n      'Fix the spelling and grammar of the text, preserving the markdown formatting, like bold, italic, link, highlight. Make sure to do your best'\n    ),\n  ]);\n}\n\nexport function runGenerateAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content:\n        'You are assisting the user in extending the content of the whiteboard.',\n    },\n    userText(input),\n    userText('Generate more content based on the current input.'),\n  ]);\n}\n\nexport function runImproveWritingAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assistant',\n    },\n    userText(input),\n    userText(\n      'Improve the writing of the text, preserving the markdown formatting if needed, like bold, italic, link, highlight. Make sure to do your best'\n    ),\n  ]);\n}\n\nexport function runMakeLongerAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assistant',\n    },\n    userText(input),\n    userText(\n      'Make the input text longer, preserving the markdown formatting, like bold, italic, link, highlight. Make sure to do your best'\n    ),\n  ]);\n}\n\nexport function runMakeShorterAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assistant',\n    },\n    userText(input),\n    userText(\n      'Make the input text shorter, preserving the markdown formatting, like bold, italic, link, highlight. Make sure to do your best'\n    ),\n  ]);\n}\n\nexport function runRefineAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content:\n        'You are assisting the user in refining the content of the whiteboard.',\n    },\n    userText(input),\n    userText('Refine this text.'),\n  ]);\n}\n\nexport function runSimplifyWritingAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assistant',\n    },\n    userText(input),\n    userText(\n      'Simplify the text, preserving the markdown formatting if needed, like bold, italic, link, highlight. Make sure to do your best'\n    ),\n  ]);\n}\n\nexport function runSummaryAction(payload: { input: string }) {\n  const { input } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are a professional writing assisting.',\n    },\n    userText(input),\n    userText('Summarize this text. Make sure to do your best.'),\n  ]);\n}\n\nexport function runTranslateAction(payload: {\n  input: string;\n  language: string;\n}) {\n  const { input, language } = payload;\n  return getChatService().chat([\n    {\n      role: 'system',\n      content: 'You are assisting the user in translating the content.',\n    },\n    userText(\n      `Translate the Markdown text\n      \n      ${input}\n      \n      to ${language} while preserving the formatting, like bold, italic, link, highlight. Please only return the result of the translate.`\n    ),\n  ]);\n}\n\nexport function runAnalysisAction(payload: {\n  input: string;\n  background: ChatMessage[];\n}) {\n  const { input } = payload;\n  return getChatService().chat([\n    ...payload.background,\n    userText(\n      `Use the nested unordered list syntax in Markdown to create a structure similar to a mind map. \n      Analyze the following questions:\n      ${input}`\n    ),\n  ]);\n}\n\nexport function runPartAnalysisAction(payload: {\n  input: string;\n  background: ChatMessage[];\n  path: string[];\n}) {\n  const { input, path } = payload;\n  return getChatService().chat([\n    ...payload.background,\n    userText(\n      `The following is a small part of a mind map. You need to use the markdown unordered list starts with \\`-\\` nesting syntax to analyze the issue in a structure similar to the mind map. Only output the supplementary content starting from the issue node; do not output any additional content.Do not output nodes that already exist in path.\nIssue Path:\n${path.join('->')}\nIssue Node:\n${input}`\n    ),\n  ]);\n}\nexport const runPPTGenerateAction = (payload: {\n  input: string;\n  background: ChatMessage[];\n}) => {\n  const { input } = payload;\n  return getChatService().chat([\n    ...payload.background,\n    userText(\n      `\nI want to write a PPT, that has many pages, each page has 1 to 4 sections,\neach section has a title of no more than 30 words and no more than 500 words of content,\nbut also need some keywords that match the content of the paragraph used to generate images,\nTry to have a different number of section per page\nThe first page is the cover, which generates a general title (no more than 4 words) and description based on the topic\nthis is a template:\n- page name\n  - title\n    - keywords\n    - description\n- page name\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n- page name\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n- page name\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n  - section name\n    - keywords\n    - content\n- page name\n  - section name\n    - keywords\n    - content\n\n\nplease help me to write this ppt, do not output any content that does not belong to the slides content itself outside of the content, Directly output the title content keywords without prefix like Title:xxx, Content: xxx, Keywords: xxx\nThe PPT is based on the following topics:\n${input}`\n    ),\n  ]);\n};\n"]}