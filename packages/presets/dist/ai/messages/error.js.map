{"version":3,"file":"error.js","sourceRoot":"","sources":["../../../src/ai/messages/error.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAmB,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACxE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAuB,MAAM,KAAK,CAAC;AACrE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE5D,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAC;AACnD,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;IAGtC,cAAc;4BADnB,aAAa,CAAC,kBAAkB,CAAC;;;;sBACL,cAAc,CAAC,UAAU,CAAC;;;;8BAAlC,SAAQ,WAA0B;;;;gCACpD,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,iKAAS,IAAI,6BAAJ,IAAI,mFAAqB;YAFpC,6KAoDC;;;YApDK,uDAAc;;QAElB,6EAAkC;QAAlC,IAAS,IAAI,0CAAqB;QAAlC,IAAS,IAAI,gDAAqB;QAEf,MAAM;YACvB,OAAO,IAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBAyCE,YAAY;iBACZ,IAAI,CAAC,IAAI;;;aAGb,CAAC;QACZ,CAAC;;;;;;;;AAGH,MAAM,CAAC,MAAM,4BAA4B,GAAG,CAAC,IAAgB,EAAE,EAAE,CAAC,IAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA4B1D,IAAI,CAAA;0DAC0C;;;eAG3C,GAAG,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;;;;;CAM5E,CAAC;AAEF,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAClC,OAA0B,IAAI,CAAA;;+EAE+C,EAC7E,WAA8B,IAAI,CAAA,GAAG,OAAO,EAAE,EAC9C,EAAE,CAAC,IAAI,CAAA,4BAA4B,IAAI,IAAI,QAAQ,qBAAqB,CAAC","sourcesContent":["import { type EditorHost, WithDisposable } from '@blocksuite/block-std';\nimport { html, LitElement, nothing, type TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { ErrorTipIcon } from '../_common/icons.js';\nimport { AIProvider } from '../provider.js';\n\n@customElement('ai-error-wrapper')\nclass AIErrorWrapper extends WithDisposable(LitElement) {\n  @property({ attribute: false })\n  accessor text!: TemplateResult<1>;\n\n  protected override render() {\n    return html` <style>\n        .answer-tip {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: flex-start;\n          gap: 4px;\n          align-self: stretch;\n          border-radius: 4px;\n          padding: 8px;\n          background-color: var(--affine-background-error-color);\n\n          .bottom {\n            align-items: flex-start;\n            display: flex;\n            gap: 8px;\n            align-self: stretch;\n            color: var(--affine-error-color, #eb4335);\n            font-feature-settings:\n              'clig' off,\n              'liga' off;\n            /* light/sm */\n            font-size: var(--affine-font-sm);\n            font-style: normal;\n            font-weight: 400;\n            line-height: 22px; /* 157.143% */\n            margin-bottom: 4px;\n\n            a {\n              color: inherit;\n            }\n\n            div svg {\n              position: relative;\n              top: 3px;\n            }\n          }\n        }\n      </style>\n      <div class=\"answer-tip\">\n        <div class=\"bottom\">\n          <div>${ErrorTipIcon}</div>\n          <div>${this.text}</div>\n        </div>\n        <slot></slot>\n      </div>`;\n  }\n}\n\nexport const PaymentRequiredErrorRenderer = (host: EditorHost) => html`\n  <style>\n    .upgrade {\n      cursor: pointer;\n      display: flex;\n      padding: 4px 12px;\n      justify-content: center;\n      align-items: center;\n      gap: 4px;\n      border-radius: 8px;\n      margin-left: auto;\n      border: 1px solid var(--affine-border-color, #e3e2e4);\n      background: var(--affine-primary-color);\n      .content {\n        display: flex;\n        padding: 0px 4px;\n        justify-content: center;\n        align-items: center;\n        color: var(--affine-pure-white);\n        /* light/xsMedium */\n        font-size: var(--affine-font-xs);\n        font-style: normal;\n        font-weight: 500;\n        line-height: 20px; /* 166.667% */\n      }\n    }\n  </style>\n  <ai-error-wrapper\n    .text=${html`You've reached the current usage cap for AFFiNE AI. You can\n    subscribe to AFFiNE AI to continue the AI experience!`}\n  >\n    <div\n      @click=${() => AIProvider.slots.requestUpgradePlan.emit({ host: host })}\n      class=\"upgrade\"\n    >\n      <div class=\"content\">Upgrade</div>\n    </div></ai-error-wrapper\n  >\n`;\n\nexport const GeneralErrorRenderer = (\n  text: TemplateResult<1> = html`An error occurred, If this issue persists\n    please let us know.\n    <a href=\"mailto:support@toeverything.info\"> support@toeverything.info </a>`,\n  template: TemplateResult<1> = html`${nothing}`\n) => html` <ai-error-wrapper .text=${text}>${template}</ai-error-wrapper>`;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'ai-error-wrapper': AIErrorWrapper;\n  }\n}\n"]}